import{r as c,j as t}from"./index-C-8bSDCG.js";import"./react-vendor-DS08_OVb.js";import"./pdf-vendor-B1Z1FYJ2.js";const ge="freetool-mindmap-data",he="freetool-mindmap-style",F={默认:["#607AFB","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4","#F97316"],清新:["#22C55E","#14B8A6","#06B6D4","#0EA5E9","#3B82F6","#6366F1","#8B5CF6","#A855F7"],暖色:["#F97316","#F59E0B","#EAB308","#84CC16","#22C55E","#10B981","#14B8A6","#06B6D4"],冷色:["#3B82F6","#6366F1","#8B5CF6","#A855F7","#D946EF","#EC4899","#F43F5E","#EF4444"],商务:["#1E40AF","#1E3A8A","#312E81","#4C1D95","#581C87","#701A75","#831843","#881337"],彩虹:["#EF4444","#F97316","#EAB308","#22C55E","#14B8A6","#3B82F6","#8B5CF6","#EC4899"],纯蓝:["#3B82F6","#3B82F6","#3B82F6","#3B82F6","#3B82F6","#3B82F6","#3B82F6","#3B82F6"],纯绿:["#10B981","#10B981","#10B981","#10B981","#10B981","#10B981","#10B981","#10B981"],纯紫:["#8B5CF6","#8B5CF6","#8B5CF6","#8B5CF6","#8B5CF6","#8B5CF6","#8B5CF6","#8B5CF6"],纯橙:["#F97316","#F97316","#F97316","#F97316","#F97316","#F97316","#F97316","#F97316"],纯红:["#EF4444","#EF4444","#EF4444","#EF4444","#EF4444","#EF4444","#EF4444","#EF4444"],纯青:["#06B6D4","#06B6D4","#06B6D4","#06B6D4","#06B6D4","#06B6D4","#06B6D4","#06B6D4"],纯粉:["#EC4899","#EC4899","#EC4899","#EC4899","#EC4899","#EC4899","#EC4899","#EC4899"],深灰:["#475569","#475569","#475569","#475569","#475569","#475569","#475569","#475569"]},xe=()=>Math.random().toString(36).substring(2,11),de=l=>{const p=xe(),u=F[l]||F.默认;return{nodes:{[p]:{id:p,text:"中心主题",x:0,y:0,parentId:null,children:[],color:u[0],collapsed:!1}},rootId:p}},Fe=()=>{try{const l=localStorage.getItem(he);if(l)return JSON.parse(l)}catch(l){console.error("Failed to load style config:",l)}return{lineStyle:"curve",nodeShape:"rounded",layoutDirection:"right",theme:"默认"}},Ae=l=>{try{localStorage.setItem(he,JSON.stringify(l))}catch(p){console.error("Failed to save style config:",p)}},Me=()=>{try{const l=localStorage.getItem(ge);if(l){const p=JSON.parse(l);if(p.rootId&&p.nodes&&p.nodes[p.rootId])return p}}catch(l){console.error("Failed to load mindmap data:",l)}return null},Q=l=>{try{localStorage.setItem(ge,JSON.stringify(l))}catch(p){console.error("Failed to save mindmap data:",p)}},Re=()=>{var ie,ce;const[l,p]=c.useState(Fe),[u,E]=c.useState(()=>Me()||de(l.theme)),[C,D]=c.useState(null),[$,T]=c.useState(null),[O,_]=c.useState(""),[z,L]=c.useState(1),[B,H]=c.useState({x:0,y:0}),[Z,ee]=c.useState(!1),[V,ue]=c.useState({x:0,y:0}),[me,te]=c.useState(!1),[U,be]=c.useState(!1),re=c.useRef(null),se=c.useRef(null),ne=c.useRef(null),X=F[l.theme]||F.默认,P=c.useCallback(e=>{p(n=>{const s={...n,...e};if(Ae(s),e.theme&&e.theme!==n.theme){const r=F[e.theme]||F.默认;E(i=>{const o={...i.nodes},a=o[i.rootId];a&&(o[i.rootId]={...a,color:r[0]});let g=0;a==null||a.children.forEach(b=>{const m=r[g%r.length];g++;const f=(R,A)=>{const j=o[R];j&&(o[R]={...j,color:A},j.children.forEach(d=>f(d,A)))};f(b,m)});const h={...i,nodes:o};return Q(h),h})}return s})},[]),G=c.useCallback((e,n,s=0,r=0)=>{const i=n[e];if(!i)return r;const o=l.layoutDirection==="down",a=o?80:200,g=o?100:70;if(o?i.y=s*g:i.x=s*a,i.collapsed||i.children.length===0)return o?i.x=r:i.y=r,r+(o?150:g);let h=r;const b=[];for(const m of i.children){h=G(m,n,s+1,h);const f=n[m];f&&b.push(o?f.x:f.y)}if(b.length>0){const m=Math.min(...b),f=Math.max(...b);o?i.x=(m+f)/2:i.y=(m+f)/2}else o?i.x=r:i.y=r;return h},[l.layoutDirection]),v=c.useCallback(e=>{const n={...e.nodes};Object.keys(n).forEach(r=>{n[r]={...n[r]}}),G(e.rootId,n,0,0);const s={...e,nodes:n};return Q(s),s},[G]);c.useEffect(()=>{E(e=>v(e))},[l.layoutDirection]);const ye=c.useCallback(e=>{E(n=>{const s=n.nodes[e];if(!s)return n;const r=xe(),o=Object.keys(n.nodes).length%X.length,a={id:r,text:"新节点",x:0,y:0,parentId:e,children:[],color:s.parentId===null?X[o]:s.color,collapsed:!1},g={...n.nodes,[r]:a,[e]:{...s,children:[...s.children,r],collapsed:!1}};return v({...n,nodes:g})})},[v,X]),pe=c.useCallback(e=>{E(n=>{const s=n.nodes[e];if(!s||s.parentId===null)return n;const r={...n.nodes},i=a=>{const g=r[a];g&&(g.children.forEach(i),delete r[a])};i(e);const o=r[s.parentId];return o&&(r[s.parentId]={...o,children:o.children.filter(a=>a!==e)}),v({...n,nodes:r})}),D(null)},[v]),J=c.useCallback(e=>{const n=u.nodes[e];n&&(T(e),_(n.text),setTimeout(()=>{var s;return(s=ne.current)==null?void 0:s.focus()},0))},[u.nodes]),Y=c.useCallback(()=>{$&&O.trim()&&E(e=>{const n=e.nodes[$];if(n){const s={...e.nodes,[$]:{...n,text:O.trim()}},r={...e,nodes:s};return Q(r),r}return e}),T(null),_("")},[$,O]),fe=c.useCallback(e=>{E(n=>{const s=n.nodes[e];if(s&&s.children.length>0){const r={...n.nodes,[e]:{...s,collapsed:!s.collapsed}};return v({...n,nodes:r})}return n})},[v]),we=c.useCallback(e=>{e.preventDefault();const n=e.deltaY>0?.9:1.1;L(s=>Math.max(.3,Math.min(3,s*n)))},[]),ke=c.useCallback(e=>{(e.target===re.current||e.target===se.current)&&(ee(!0),ue({x:e.clientX-B.x,y:e.clientY-B.y}),D(null))},[B]),Ce=c.useCallback(e=>{Z&&H({x:e.clientX-V.x,y:e.clientY-V.y})},[Z,V]),oe=c.useCallback(()=>{ee(!1)},[]),K=c.useCallback(()=>{let e=1/0,n=1/0,s=-1/0,r=-1/0;const i=o=>{const a=u.nodes[o];a&&(e=Math.min(e,a.x-80),n=Math.min(n,a.y-30),s=Math.max(s,a.x+100),r=Math.max(r,a.y+30),a.collapsed||a.children.forEach(i))};return i(u.rootId),e===1/0?{minX:-100,minY:-50,maxX:100,maxY:50}:{minX:e,minY:n,maxX:s,maxY:r}},[u]),q=c.useCallback((e,n,s,r)=>{const i=l.layoutDirection==="down";switch(l.lineStyle){case"straight":return`M ${e} ${n} L ${s} ${r}`;case"polyline":if(i){const o=(n+r)/2;return`M ${e} ${n} L ${e} ${o} L ${s} ${o} L ${s} ${r}`}else{const o=(e+s)/2;return`M ${e} ${n} L ${o} ${n} L ${o} ${r} L ${s} ${r}`}case"curve":default:if(i){const o=(n+r)/2;return`M ${e} ${n} C ${e} ${o}, ${s} ${o}, ${s} ${r}`}else{const o=(e+s)/2;return`M ${e} ${n} C ${o} ${n}, ${o} ${r}, ${s} ${r}`}}},[l.lineStyle,l.layoutDirection]),I=c.useCallback(e=>{switch(l.nodeShape){case"rectangle":return{rx:4,ry:4,width:140,height:44};case"ellipse":return{rx:140/2,ry:44/2,width:140,height:44};case"rounded":default:return{rx:22,ry:22,width:140,height:44}}},[l.nodeShape]),je=c.useCallback(async()=>{$&&Y();const e=K(),n=50,s=e.maxX-e.minX+n*2,r=e.maxY-e.minY+n*2,i=l.layoutDirection==="down",o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width",String(s)),o.setAttribute("height",String(r)),o.setAttribute("viewBox",`${e.minX-n} ${e.minY-n} ${s} ${r}`),o.setAttribute("xmlns","http://www.w3.org/2000/svg");const a=document.createElementNS("http://www.w3.org/2000/svg","rect");a.setAttribute("x",String(e.minX-n)),a.setAttribute("y",String(e.minY-n)),a.setAttribute("width",String(s)),a.setAttribute("height",String(r)),a.setAttribute("fill","white"),o.appendChild(a);const g=I(!1),h=j=>{const d=u.nodes[j];!d||d.collapsed||d.children.forEach(N=>{const w=u.nodes[N];if(w){let k,y,W,x;i?(k=d.x,y=d.y+g.height/2,W=w.x,x=w.y-g.height/2):(k=d.x+g.width/2,y=d.y,W=w.x-g.width/2,x=w.y);const M=document.createElementNS("http://www.w3.org/2000/svg","path");M.setAttribute("d",q(k,y,W,x)),M.setAttribute("fill","none"),M.setAttribute("stroke",w.color),M.setAttribute("stroke-width","2"),M.setAttribute("opacity","0.6"),o.appendChild(M),h(N)}})};h(u.rootId);const b=j=>{const d=u.nodes[j];if(!d)return;const N=d.parentId===null,w=document.createElementNS("http://www.w3.org/2000/svg","g");w.setAttribute("transform",`translate(${d.x}, ${d.y})`);const k=I(N);if(l.nodeShape==="ellipse"){const x=document.createElementNS("http://www.w3.org/2000/svg","ellipse");x.setAttribute("cx","0"),x.setAttribute("cy","0"),x.setAttribute("rx",String(k.width/2)),x.setAttribute("ry",String(k.height/2)),x.setAttribute("fill",N?d.color:"white"),x.setAttribute("stroke",d.color),x.setAttribute("stroke-width","2"),w.appendChild(x)}else{const x=document.createElementNS("http://www.w3.org/2000/svg","rect");x.setAttribute("x",String(-k.width/2)),x.setAttribute("y",String(-k.height/2)),x.setAttribute("width",String(k.width)),x.setAttribute("height",String(k.height)),x.setAttribute("rx",String(k.rx)),x.setAttribute("fill",N?d.color:"white"),x.setAttribute("stroke",d.color),x.setAttribute("stroke-width","2"),w.appendChild(x)}const y=document.createElementNS("http://www.w3.org/2000/svg","text");y.setAttribute("x","0"),y.setAttribute("y","5"),y.setAttribute("text-anchor","middle"),y.setAttribute("fill",N?"white":d.color),y.setAttribute("font-size","14"),y.setAttribute("font-weight",N?"bold":"normal"),y.setAttribute("font-family","system-ui, -apple-system, sans-serif");const W=d.text.length>10?d.text.slice(0,10)+"...":d.text;y.textContent=W,w.appendChild(y),o.appendChild(w),d.collapsed||d.children.forEach(b)};b(u.rootId);const m=new XMLSerializer().serializeToString(o),f=new Blob([m],{type:"image/svg+xml;charset=utf-8"}),R=URL.createObjectURL(f),A=new Image;A.onload=()=>{const j=document.createElement("canvas"),d=2;j.width=s*d,j.height=r*d;const N=j.getContext("2d");N&&(N.scale(d,d),N.drawImage(A,0,0),j.toBlob(w=>{if(w){const k=URL.createObjectURL(w),y=document.createElement("a");y.href=k,y.download="mindmap.png",y.click(),URL.revokeObjectURL(k)}},"image/png")),URL.revokeObjectURL(R)},A.src=R,te(!0),setTimeout(()=>te(!1),2e3)},[u,$,Y,K,l,q,I]),Ne=c.useCallback(()=>{L(1),H({x:0,y:0})},[]),ve=c.useCallback(()=>{const e=de(l.theme);E(v(e)),D(null),T(null),L(1),H({x:0,y:0})},[v,l.theme]),Se=()=>{const e=[],n=l.layoutDirection==="down",s=I(!1),r=i=>{const o=u.nodes[i];!o||o.collapsed||o.children.forEach(a=>{const g=u.nodes[a];if(g){let h,b,m,f;n?(h=o.x,b=o.y+s.height/2,m=g.x,f=g.y-s.height/2):(h=o.x+s.width/2,b=o.y,m=g.x-s.width/2,f=g.y),e.push(t.jsx("path",{d:q(h,b,m,f),fill:"none",stroke:g.color,strokeWidth:"2",opacity:"0.6"},`${i}-${a}`)),r(a)}})};return r(u.rootId),e},Ee=()=>{const e=[],n=s=>{const r=u.nodes[s];if(!r)return;const i=C===s,o=$===s,a=r.parentId===null,g=r.children.length>0,h=I(a),b=l.layoutDirection==="down";e.push(t.jsxs("g",{transform:`translate(${r.x}, ${r.y})`,children:[l.nodeShape==="ellipse"?t.jsx("ellipse",{cx:"0",cy:"0",rx:h.width/2,ry:h.height/2,fill:a?r.color:"white",stroke:r.color,strokeWidth:i?3:2,className:"cursor-pointer transition-all",onClick:()=>D(s),onDoubleClick:()=>J(s)}):t.jsx("rect",{x:-h.width/2,y:-h.height/2,width:h.width,height:h.height,rx:h.rx,fill:a?r.color:"white",stroke:r.color,strokeWidth:i?3:2,className:"cursor-pointer transition-all",onClick:()=>D(s),onDoubleClick:()=>J(s)}),o?t.jsx("foreignObject",{x:"-65",y:"-15",width:"130",height:"30",children:t.jsx("input",{ref:ne,type:"text",value:O,onChange:m=>_(m.target.value),onBlur:Y,onKeyDown:m=>{m.key==="Enter"&&Y(),m.key==="Escape"&&(T(null),_(""))},className:"w-full h-full text-center text-sm bg-transparent outline-none border-none",style:{color:a?"white":r.color}})}):t.jsx("text",{x:"0",y:"5",textAnchor:"middle",fill:a?"white":r.color,fontSize:"14",fontWeight:a?"bold":"normal",className:"pointer-events-none select-none",children:r.text.length>10?r.text.slice(0,10)+"...":r.text}),g&&t.jsxs("g",{transform:b?`translate(0, ${h.height/2+5})`:`translate(${h.width/2+5}, 0)`,className:"cursor-pointer",onClick:m=>{m.stopPropagation(),fe(s)},children:[t.jsx("circle",{r:"10",fill:r.color,opacity:"0.8"}),t.jsx("text",{x:"0",y:"4",textAnchor:"middle",fill:"white",fontSize:"14",fontWeight:"bold",children:r.collapsed?"+":"-"})]}),r.collapsed&&g&&t.jsxs("text",{x:b?20:h.width/2+25,y:b?h.height/2+8:5,fontSize:"12",fill:"#999",children:["(",r.children.length,")"]})]},s)),r.collapsed||r.children.forEach(n)};return n(u.rootId),e},S=K(),ae=Math.max(800,S.maxX-S.minX+200),le=Math.max(600,S.maxY-S.minY+200),$e=(S.minX+S.maxX)/2,Be=(S.minY+S.maxY)/2;return t.jsxs("div",{className:"flex w-full flex-col items-center px-4 py-6 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex w-full max-w-7xl flex-col items-center gap-2 text-center mb-6",children:[t.jsx("p",{className:"text-3xl font-black leading-tight tracking-tighter text-gray-900 dark:text-white sm:text-4xl",children:"思维导图"}),t.jsx("p",{className:"text-base font-normal text-gray-500 dark:text-gray-400",children:"在线创建和编辑思维导图，支持多种样式和布局"})]}),me&&t.jsx("div",{className:"fixed top-8 left-1/2 -translate-x-1/2 z-50 animate-fade-in-down",children:t.jsxs("div",{className:"bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2",children:[t.jsx("span",{className:"material-symbols-outlined text-xl",children:"check_circle"}),t.jsx("span",{className:"font-medium",children:"导出成功!"})]})}),t.jsxs("div",{className:"w-full max-w-7xl",children:[t.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-t-xl border border-b-0 border-gray-200 dark:border-gray-700 p-3 flex flex-wrap items-center gap-2",children:[t.jsxs("button",{onClick:()=>C&&ye(C),disabled:!C,className:"flex items-center gap-1 px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("span",{className:"material-symbols-outlined text-base",children:"add"}),"添加子节点"]}),t.jsxs("button",{onClick:()=>C&&pe(C),disabled:!C||((ie=u.nodes[C])==null?void 0:ie.parentId)===null,className:"flex items-center gap-1 px-3 py-1.5 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded text-sm hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"}),"删除节点"]}),t.jsxs("button",{onClick:()=>C&&J(C),disabled:!C,className:"flex items-center gap-1 px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded text-sm hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("span",{className:"material-symbols-outlined text-base",children:"edit"}),"编辑文字"]}),t.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-gray-700 mx-1"}),t.jsxs("button",{onClick:()=>be(!U),className:`flex items-center gap-1 px-3 py-1.5 rounded text-sm transition-colors ${U?"bg-primary text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[t.jsx("span",{className:"material-symbols-outlined text-base",children:"palette"}),"样式设置"]}),t.jsx("div",{className:"flex-1"}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[t.jsx("button",{onClick:()=>L(e=>Math.min(3,e*1.2)),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"放大",children:t.jsx("span",{className:"material-symbols-outlined text-base",children:"zoom_in"})}),t.jsxs("span",{className:"w-12 text-center",children:[Math.round(z*100),"%"]}),t.jsx("button",{onClick:()=>L(e=>Math.max(.3,e/1.2)),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"缩小",children:t.jsx("span",{className:"material-symbols-outlined text-base",children:"zoom_out"})}),t.jsx("button",{onClick:Ne,className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"重置视图",children:t.jsx("span",{className:"material-symbols-outlined text-base",children:"fit_screen"})})]}),t.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-gray-700 mx-1"}),t.jsxs("button",{onClick:ve,className:"flex items-center gap-1 px-3 py-1.5 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded text-sm hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[t.jsx("span",{className:"material-symbols-outlined text-base",children:"restart_alt"}),"重新开始"]}),t.jsxs("button",{onClick:je,className:"flex items-center gap-1 px-3 py-1.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded text-sm hover:bg-green-200 dark:hover:bg-green-900/50 transition-colors",children:[t.jsx("span",{className:"material-symbols-outlined text-base",children:"download"}),"导出 PNG"]})]}),t.jsxs("div",{className:"flex rounded-b-xl overflow-hidden border border-t-0 border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{ref:re,className:"relative flex-1 bg-gray-50 dark:bg-gray-900 overflow-hidden cursor-grab active:cursor-grabbing",style:{height:"600px"},onWheel:we,onMouseDown:ke,onMouseMove:Ce,onMouseUp:oe,onMouseLeave:oe,children:[t.jsx("div",{className:"absolute inset-0 opacity-30 dark:opacity-10",style:{backgroundImage:`
                                    linear-gradient(to right, #e5e7eb 1px, transparent 1px),
                                    linear-gradient(to bottom, #e5e7eb 1px, transparent 1px)
                                `,backgroundSize:`${20*z}px ${20*z}px`,backgroundPosition:`${B.x}px ${B.y}px`}}),t.jsxs("svg",{ref:se,className:"absolute inset-0 w-full h-full",viewBox:`${$e-ae/2} ${Be-le/2} ${ae} ${le}`,style:{transform:`translate(${B.x}px, ${B.y}px) scale(${z})`,transformOrigin:"center center"},children:[Se(),Ee()]}),t.jsxs("div",{className:"absolute bottom-4 left-4 text-xs text-gray-400 dark:text-gray-500 space-y-1",children:[t.jsx("p",{children:"鼠标滚轮缩放 | 拖拽移动画布"}),t.jsx("p",{children:"单击选中节点 | 双击编辑文字"})]}),C&&!U&&t.jsxs("div",{className:"absolute top-4 right-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-3 text-sm",children:[t.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-1",children:"选中节点:"}),t.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:(ce=u.nodes[C])==null?void 0:ce.text})]})]}),U&&t.jsx("div",{className:"w-64 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 p-4 overflow-y-auto",style:{height:"600px"},children:t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"颜色主题"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(F).map(([e,n])=>t.jsxs("button",{onClick:()=>P({theme:e}),className:`flex items-center gap-1.5 px-2 py-1.5 rounded text-xs transition-all ${l.theme===e?"ring-2 ring-primary ring-offset-1 bg-primary/5":"hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:e,children:[t.jsx("div",{className:"flex shrink-0",children:n.slice(0,3).map((s,r)=>t.jsx("div",{className:"w-3 h-3 rounded-full -ml-1 first:ml-0 border border-white dark:border-gray-800",style:{backgroundColor:s}},r))}),t.jsx("span",{className:"text-gray-600 dark:text-gray-400 truncate",children:e})]},e))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"连接线"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"curve",label:"曲线",icon:"M 0 12 C 12 12, 12 0, 24 0"},{id:"straight",label:"直线",icon:"M 0 12 L 24 0"},{id:"polyline",label:"折线",icon:"M 0 12 L 12 12 L 12 0 L 24 0"}].map(e=>t.jsxs("button",{onClick:()=>P({lineStyle:e.id}),className:`flex flex-col items-center gap-1 p-2 rounded text-xs transition-all ${l.lineStyle===e.id?"bg-primary/10 text-primary ring-1 ring-primary":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[t.jsx("svg",{width:"24",height:"14",viewBox:"0 0 24 14",children:t.jsx("path",{d:e.icon,fill:"none",stroke:"currentColor",strokeWidth:"2"})}),t.jsx("span",{children:e.label})]},e.id))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"节点形状"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:"rounded",label:"圆角"},{id:"rectangle",label:"方形"},{id:"ellipse",label:"椭圆"}].map(e=>t.jsxs("button",{onClick:()=>P({nodeShape:e.id}),className:`flex flex-col items-center gap-1 p-2 rounded text-xs transition-all ${l.nodeShape===e.id?"bg-primary/10 text-primary ring-1 ring-primary":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[t.jsxs("svg",{width:"32",height:"18",viewBox:"0 0 32 18",children:[e.id==="rounded"&&t.jsx("rect",{x:"1",y:"1",width:"30",height:"16",rx:"8",fill:"none",stroke:"currentColor",strokeWidth:"2"}),e.id==="rectangle"&&t.jsx("rect",{x:"1",y:"1",width:"30",height:"16",rx:"2",fill:"none",stroke:"currentColor",strokeWidth:"2"}),e.id==="ellipse"&&t.jsx("ellipse",{cx:"16",cy:"9",rx:"15",ry:"8",fill:"none",stroke:"currentColor",strokeWidth:"2"})]}),t.jsx("span",{children:e.label})]},e.id))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"布局方向"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"right",label:"向右",icon:"arrow_forward"},{id:"down",label:"向下",icon:"arrow_downward"}].map(e=>t.jsxs("button",{onClick:()=>P({layoutDirection:e.id}),className:`flex items-center justify-center gap-1 px-3 py-2 rounded text-xs transition-all ${l.layoutDirection===e.id?"bg-primary/10 text-primary ring-1 ring-primary":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[t.jsx("span",{className:"material-symbols-outlined text-base",children:e.icon}),t.jsx("span",{children:e.label})]},e.id))})]})]})})]})]})]})};export{Re as default};
