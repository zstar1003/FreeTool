import{r as t,j as e}from"./index-CqFSKw8P.js";import"./react-vendor-DS08_OVb.js";import"./pdf-vendor-B1Z1FYJ2.js";const b=()=>{const[l,m]=t.useState(""),[a,c]=t.useState(""),[d,o]=t.useState(!1),[g,n]=t.useState(!1),i=t.useRef(null),x=t.useCallback(s=>{if(!s.trim()){c("");return}let r=s;r=r.replace(/[\r\n]+/g,""),r=r.replace(/\t+/g,""),r=r.replace(/\s+/g," ").trim(),c(r)},[]);t.useEffect(()=>(i.current&&clearTimeout(i.current),l.trim()?i.current=setTimeout(()=>{x(l)},300):c(""),()=>{i.current&&clearTimeout(i.current)}),[l,x]);const p=t.useCallback(()=>{a&&navigator.clipboard.writeText(a).then(()=>{o(!0),n(!1),setTimeout(()=>{n(!0)},1700),setTimeout(()=>{o(!1),n(!1)},2e3)}).catch(s=>{console.error("Failed to copy text: ",s)})},[a]);return e.jsxs("div",{className:"flex w-full flex-col items-center px-4 py-10 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex w-full max-w-6xl flex-col items-center gap-2 text-center mb-8",children:[e.jsx("p",{className:"text-3xl font-black leading-tight tracking-tighter text-gray-900 dark:text-white sm:text-4xl",children:"文本格式化工具"}),e.jsx("p",{className:"text-base font-normal text-gray-500 dark:text-gray-400",children:"粘贴文本,自动清除所有多余的空格、换行符和制表符。"})]}),d&&e.jsx("div",{className:`fixed top-8 left-1/2 -translate-x-1/2 z-50 ${g?"animate-fade-out-up":"animate-fade-in-down"}`,children:e.jsxs("div",{className:"bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-xl",children:"check_circle"}),e.jsx("span",{className:"font-medium",children:"已复制到剪贴板!"})]})}),e.jsx("div",{className:"w-full max-w-6xl rounded-xl border border-gray-200 dark:border-gray-700/50 bg-white dark:bg-gray-800/20 shadow-sm",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2",children:[e.jsxs("div",{className:"relative flex flex-col p-4 border-b lg:border-b-0 lg:border-r border-gray-200 dark:border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 min-h-[36px]",children:[e.jsxs("h3",{className:"text-gray-900 dark:text-white text-base font-semibold leading-normal flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-xl",children:"description"}),"原始文本"]}),e.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:[l.length," 字符"]})]}),e.jsx("textarea",{value:l,onChange:s=>m(s.target.value),className:"flex-1 resize-none rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 text-gray-900 dark:text-gray-100 focus:outline-0 focus:ring-2 focus:ring-primary/20 focus:border-primary min-h-[400px] placeholder:text-gray-400 dark:placeholder:text-gray-500 p-4 text-sm leading-relaxed",placeholder:"在此处粘贴您的文本..."})]}),e.jsxs("div",{className:"relative flex flex-col p-4 bg-gray-50/50 dark:bg-gray-800/30",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3 min-h-[36px]",children:[e.jsxs("h3",{className:"text-gray-900 dark:text-white text-base font-semibold leading-normal flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-xl",children:"auto_awesome"}),"格式化后的文本"]}),e.jsxs("button",{onClick:p,disabled:!a,className:"flex items-center gap-1.5 px-3 py-1.5 bg-primary/10 text-primary rounded-lg text-xs font-medium hover:bg-primary/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors whitespace-nowrap",children:[e.jsx("span",{className:"material-symbols-outlined text-base",children:"content_copy"}),e.jsx("span",{children:d?"已复制!":"复制文本"})]})]}),e.jsx("div",{className:"relative bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 min-h-[400px] p-4 text-sm overflow-x-auto",children:a?e.jsx("pre",{className:"leading-relaxed whitespace-pre-wrap break-words text-gray-900 dark:text-gray-100",children:a}):e.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 dark:text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"material-symbols-outlined text-5xl mb-2 block opacity-50",children:"lightbulb"}),e.jsx("p",{className:"text-sm",children:"格式化后的文本将显示在此处"})]})})})]})]})})]})};export{b as default};
